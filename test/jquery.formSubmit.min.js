/*
 *  jQuery Form-Submit - v1.0.0
 *  Prevent
 *
 *  Made by Konstantin Pluschnikow (@pluschnikow)
 *  Under MIT License
 */
!function(a){"use strict";var b="formSubmit",c={submitBtn:'[type="submit"]',classNoPrevention:"btn-no-prevention",classBtn:"btn-loading",prevent:!1},d=function(b,d){this.opt=a.extend({},c,d),this.obj=b,this.init()};d.prototype.init=function(){var a=this;return a.initEvent(),!0},d.prototype.initEvent=function(){var b=this;b.obj.on("click",b.opt.submitBtn,function(c){var d=c.target;a(d).is(b.opt.submitBtn)===!1&&(d=a(d).closest(b.opt.submitBtn)),b.findClass(d,b.opt.classNoPrevention)===!1&&b.opt.prevent===!1?(b.onHTMLValidation(d),a(window).on("beforeunload",function(){b.setPrevention(d)}),a(window).on("unload",function(){b.setPrevention(d)})):b.opt.prevent===!0&&c.preventDefault()})},d.prototype.onHTMLValidation=function(b){var c=this;"function"==typeof a(b).closest("form")[0].checkValidity&&a(b).closest("form")[0].checkValidity()===!0&&c.setPrevention(b)},d.prototype.setPrevention=function(b){var c=this;a(b).addClass(c.opt.classBtn),c.opt.prevent=!0},d.prototype.findClass=function(b,c){for(var d=c.split(" "),e=0;e<d.length;e++)if(a(b).hasClass(d[e]))return!0;return!1},a.fn[b]=function(c){return this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new d(a(this),c))})}}(jQuery);